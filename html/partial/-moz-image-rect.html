<div class="pageText" id="pageText">
<p><span class="lang lang-en"><span class="lang lang-en">« <a title="en/CSS" rel="internal" href="https://developer.mozilla.org/en/CSS">CSS</a> « <a title="en/CSS_Reference" rel="internal" href="https://developer.mozilla.org/en/CSS/CSS_Reference">CSS Reference</a> </span>  « <a title="en/CSS_Reference/Mozilla_Extensions" rel="internal" href="https://developer.mozilla.org/en/CSS_Reference/Mozilla_Extensions">CSS Reference:Mozilla Extensions</a></span>


</p>
<div class="lang lang-en" style="border:solid 1px maroon; overflow:hidden; margin: 10px 0px; padding: 0px 10px; background-color: rgb(254, 244, 156); font-weight: bold; text-align: center;">
<p style="margin: 4px 0px;">Introduced in Gecko 2.0</p>
(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)
</div>










<div id="section_1">
<span id="Summary"></span><h3 class="editable">Summary</h3>
<p>This value for <a title="CSS" rel="internal" href="https://developer.mozilla.org/en/CSS">CSS</a> 
<code><a rel="custom" href="https://developer.mozilla.org/en/CSS/background-image">background-image</a></code> lets you use a portion of a larger image as a background. This allows you to, for example, use different parts of one larger image as backgrounds in different parts of your content.</p>
<p>This works very similarly to the 
<code><a rel="custom" href="https://developer.mozilla.org/en/CSS/-moz-image-region">-moz-image-region</a></code> property, which is used with the 
<code><a rel="custom" href="https://developer.mozilla.org/en/CSS/list-style-image">list-style-image</a></code> property to use parts of an image as the bullets in lists. However, this can be used for any CSS background.</p>
<p>The syntax for the rectangle is similar to the <a title="https://developer.mozilla.org/en/CSS/shape#Syntax" rel="internal" href="https://developer.mozilla.org/en/CSS/shape#Syntax"><code>rect()</code></a> function generating a <span class="lang lang-en">
<code><a rel="custom" href="https://developer.mozilla.org/en/CSS/shape">&lt;shape&gt;</a></code></span> CSS type. All four values are relative to the upper left corner of the image.</p>
</div>
<div id="section_2">
<span id="Syntax"></span><h3 class="editable">Syntax</h3>
<pre class="eval">
-moz-image-rect(<span class="lang lang-en">
<code><a rel="custom" href="https://developer.mozilla.org/en/CSS/uri">&lt;uri&gt;</a></code></span>, <em>top</em>, <em>right</em>, <em>bottom</em>, <em>left</em>);</pre>
<div id="section_3">
<span id="Values"></span><h4 class="editable">Values</h4>
<dl>
<dt><span class="lang lang-en">
<code><a rel="custom" href="https://developer.mozilla.org/en/CSS/uri">&lt;uri&gt;</a></code></span></dt> <dd>The URI of the image from which to take the sub-image.</dd> <dt>top</dt> <dd>The top edge, specified as a 

<code><a rel="custom" href="https://developer.mozilla.org/en/CSS/length">&lt;length&gt;</a></code>, of the sub-image within the specified image.</dd> <dt>right</dt> <dd>The right edge, specified as a 

<code><a rel="custom" href="https://developer.mozilla.org/en/CSS/length">&lt;length&gt;</a></code>, of the sub-image within the specified image.</dd> <dt>bottom</dt> <dd>The bottom edge, specified as a 

<code><a rel="custom" href="https://developer.mozilla.org/en/CSS/length">&lt;length&gt;</a></code>, of the sub-image within the specified image.</dd> <dt>left</dt> <dd>The left edge, specified as a 

<code><a rel="custom" href="https://developer.mozilla.org/en/CSS/length">&lt;length&gt;</a></code>, of the sub-image within the specified image.</dd>
</dl>
</div>
</div>
<div id="section_4">
<span id="Examples"></span><span id="Example"></span><h3 class="editable">Example</h3>
<p>This example loads an image and uses it in four segments to draw the Firefox logo in four 
<code><a rel="custom" href="https://developer.mozilla.org/en/HTML/Element/div">&lt;div&gt;</a></code> blocks. Clicking on their container causes the four segments to rotate around by swapping the 
<code><a rel="custom" href="https://developer.mozilla.org/en/CSS/background-image">background-image</a></code> property values among the four 
<code><a rel="custom" href="https://developer.mozilla.org/en/HTML/Element/div">&lt;div&gt;</a></code> blocks.</p>
<div id="section_5">
<span id="CSS"></span><h4 class="editable">CSS</h4>
<p>The CSS defines one container style, then the styles for the four boxes that comprise the complete image.</p>
<p>The container looks like this:</p>

          <pre name="code" class="css">#container {
  width:400px;
  height:400px;
  top:100px;
  left:100px;
  position:absolute;
  font-size:16px;
  text-shadow:white 0px 0px 6px;
  text-align:center;
}</pre>
        
<p>Then the four boxes defining the segments of the image are defined. Let's look at them one at a time.</p>

          <pre name="code" class="css">#box1 {
  background-image: -moz-image-rect(url(firefox.jpg), 0%, 50%, 50%, 0%);
  width:200px;
  height:200px;
  position:absolute;
}</pre>
        
<p>This is the top-left corner of the image. It defines a rectangle containing the top-left quarter of the image in the file <code>firefox.jpg</code>.</p>

          <pre name="code" class="css">#box2 {
  background-image: -moz-image-rect(url(firefox.jpg), 0%, 100%, 50%, 50%);
  width:200px;
  height:200px;
  position:absolute;
}</pre>
        
<p>This defines the top-right corner of the image.</p>
<p>The other corners follow a similar pattern:</p>

          <pre name="code" class="css">#box3 {
  background-image: -moz-image-rect(url(firefox.jpg), 50%, 50%, 100%, 0%);
  width:200px;
  height:200px;
  position:absolute;
}
#box4 {
  background-image: -moz-image-rect(url(firefox.jpg), 50%, 100%, 100%, 50%);
  width:200px;
  height:200px;
  position:absolute;
}</pre>
        
</div>
<div id="section_6">
<span id="HTML"></span><h4 class="editable">HTML</h4>
<p>The HTML is quite simple:</p>

          <pre name="code" class="xml">&lt;div id="container" onclick="rotate()"&gt;
  &lt;div id="box1" style="left:0px;top:0px;"&gt;Top left&lt;/div&gt;
  &lt;div id="box2" style="left:200px;top:0px;"&gt;Top right&lt;/div&gt;
  &lt;div id="box3" style="left:0px;top:200px;"&gt;Bottom left&lt;/div&gt;
  &lt;div id="box4" style="left:200px;top:200px;"&gt;Bottom right&lt;/div&gt;
&lt;/div&gt;</pre>
        
<p>This places the four segments of our image in a two-by-two box grid. These four segments are all contained within a larger 
<code><a rel="custom" href="https://developer.mozilla.org/en/HTML/Element/div">&lt;div&gt;</a></code> block whose primary purpose is to receive click events and dispatch them to our JavaScript code.</p>
</div>
<div id="section_7">
<span id="The_JavaScript_code"></span><h4 class="editable">The JavaScript code</h4>
<p>This code handles the click event when the container receives a mouse click.</p>

          <pre name="code" class="js">function rotate() {
  var prevStyle = window.getComputedStyle(document.getElementById("box4"), null).getPropertyValue("background-image");
  
  // Now that we've saved the last one, start rotating
  
  for (var i=1; i&lt;=4; i++) {
    var curId = "box" + i;
    
    // Shift the background iamges
    
    var curStyle = window.getComputedStyle(document.getElementById(curId), null).getPropertyValue("background-image");
    document.getElementById(curId).style.backgroundImage = prevStyle;
    prevStyle = curStyle;
  }    
}</pre>
        
<p>This uses 
<code><a rel="custom" href="https://developer.mozilla.org/en/DOM/window.getComputedStyle">window.getComputedStyle()</a></code> to fetch the style of each element, shifting it to the following element. Notice that before it begins doing so it saves a copy of the last box's style since it will be overwritten by the third element's style. By simply copying the values of the 
<code><a rel="custom" href="https://developer.mozilla.org/en/CSS/background-image">background-image</a></code> property from one element to the next with each mouse click, we achieve the desired effect.</p>
</div>
<div id="section_8">
<span id="What_it_looks_like"></span><h4 class="editable">What it looks like</h4>
<p>Here's what the display looks like when first loaded:</p>
<p><a title="shot1.png" rel="internal" href="https://developer.mozilla.org/@api/deki/files/4726/=shot1.png"><img class="internal default" alt="shot1.png" style="width: 332px; height: 350px;" src="https://developer.mozilla.org/@api/deki/files/4726/=shot1.png?size=webview"></a></p>
<p>After clicking it once:</p>
<p><a title="shot2.png" rel="internal" href="https://developer.mozilla.org/@api/deki/files/4727/=shot2.png"><img class="internal default" alt="shot2.png" style="width: 332px; height: 350px;" src="https://developer.mozilla.org/@api/deki/files/4727/=shot2.png?size=webview"></a></p>
<p>After the second click:</p>
<p><a title="shot3.png" rel="internal" href="https://developer.mozilla.org/@api/deki/files/4728/=shot3.png"><img class="internal default" alt="shot3.png" style="width: 332px; height: 350px;" src="https://developer.mozilla.org/@api/deki/files/4728/=shot3.png?size=webview"></a></p>
<p>And after the third click:</p>
<p><a title="shot4.png" rel="internal" href="https://developer.mozilla.org/@api/deki/files/4729/=shot4.png"><img class="internal default" alt="shot4.png" style="width: 332px; height: 350px;" src="https://developer.mozilla.org/@api/deki/files/4729/=shot4.png?size=webview"></a></p>
<p>Another click rotates it back around to what it originally looked like.</p>
<p>
<a rel="internal" href="https://developer.mozilla.org/samples/cssref/moz-image-rect" title="samples/cssref/moz-image-rect" class=" new"><span style="cursor:pointer; padding: 2px; border: solid 2px #333333; color: black; -moz-box-shadow:2px 2px 2px #191919; -webkit-box-shadow:2px 2px 2px #191919; -o-box-shadow:2px 2px 2px #191919; border-radius: 5px; -moz-border-radius: 5px; -webkit-border-radius: 5px; -o-border-radius: 5px; background:-moz-linear-gradient(76% 26% 142deg, #DCE3FF, #FFFFFF 47%);">View the live example</span></a>
</p>
</div>
</div>
<div id="section_9">
<span id="Bugs"></span><h3 class="editable">Bugs</h3>
<ul>
<li>
<a rel="external" href="https://bugs.webkit.org/show_bug.cgi?id=32177" class="external" title="NEW - Add support for image-rect CSS function">
WebKit bug 32177</a>
</li>
</ul>
</div>
</div>